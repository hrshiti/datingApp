// Mock Profiles Data for Discovery Feed
// In production, this will come from backend API

export const mockProfiles = [
  {
    id: 1,
    name: "Priya",
    age: 24,
    photos: [
      "https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400",
      "https://images.unsplash.com/photo-1517841905240-472988babdf9?w=400",
      "https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=400"
    ],
    bio: "Love traveling, reading, and trying new cuisines. Looking for someone to share adventures with!",
    interests: ["Travel", "Reading", "Cooking", "Photography", "Yoga"],
    personality: {
      social: "social",
      planning: "spontaneous",
      romantic: "romantic",
      morning: "night-owl"
    },
    location: {
      city: "Mumbai",
      lat: 19.0760,
      lng: 72.8777
    },
    dealbreakers: {
      kids: "want-kids",
      smoking: "non-smoker",
      pets: "love-pets",
      drinking: "socially"
    },
    optional: {
      education: "masters",
      profession: "Software Engineer",
      languages: ["Hindi", "English", "Marathi"]
    }
  },
  {
    id: 2,
    name: "Rahul",
    age: 27,
    photos: [
      "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400",
      "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400"
    ],
    bio: "Fitness enthusiast, love trekking and outdoor adventures. Coffee addict â˜•",
    interests: ["Trekking", "Sports", "Fitness", "Camping", "Music"],
    personality: {
      social: "social",
      planning: "planner",
      romantic: "practical",
      morning: "morning-person"
    },
    location: {
      city: "Bangalore",
      lat: 12.9716,
      lng: 77.5946
    },
    dealbreakers: {
      kids: "not-sure",
      smoking: "non-smoker",
      pets: "have-pets",
      drinking: "occasionally"
    },
    optional: {
      education: "bachelors",
      profession: "Marketing Manager",
      languages: ["Hindi", "English", "Kannada"]
    }
  },
  {
    id: 3,
    name: "Ananya",
    age: 26,
    photos: [
      "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400",
      "https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400",
      "https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400"
    ],
    bio: "Artist and creative soul. Love painting, music, and deep conversations under the stars.",
    interests: ["Art", "Music", "Creative", "Writing", "Meditation"],
    personality: {
      social: "introvert",
      planning: "spontaneous",
      romantic: "romantic",
      morning: "night-owl"
    },
    location: {
      city: "Delhi",
      lat: 28.6139,
      lng: 77.2090
    },
    dealbreakers: {
      kids: "want-kids",
      smoking: "non-smoker",
      pets: "love-pets",
      drinking: "never"
    },
    optional: {
      education: "masters",
      profession: "Graphic Designer",
      languages: ["Hindi", "English"]
    }
  },
  {
    id: 4,
    name: "Arjun",
    age: 29,
    photos: [
      "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400",
      "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400"
    ],
    bio: "Tech geek by day, foodie by night. Love coding, gaming, and exploring new restaurants.",
    interests: ["Tech", "Gaming", "Food", "Movies", "Coding"],
    personality: {
      social: "introvert",
      planning: "planner",
      romantic: "practical",
      morning: "night-owl"
    },
    location: {
      city: "Pune",
      lat: 18.5204,
      lng: 73.8567
    },
    dealbreakers: {
      kids: "dont-want",
      smoking: "non-smoker",
      pets: "not-interested",
      drinking: "socially"
    },
    optional: {
      education: "masters",
      profession: "Software Developer",
      languages: ["Hindi", "English", "Marathi"]
    }
  },
  {
    id: 5,
    name: "Sneha",
    age: 25,
    photos: [
      "https://images.unsplash.com/photo-1488426862026-3ee34a7d66df?w=400",
      "https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400"
    ],
    bio: "Yoga instructor and wellness coach. Passionate about healthy living and mindfulness.",
    interests: ["Yoga", "Wellness", "Meditation", "Healthy Living", "Nature"],
    personality: {
      social: "social",
      planning: "planner",
      romantic: "romantic",
      morning: "morning-person"
    },
    location: {
      city: "Hyderabad",
      lat: 17.3850,
      lng: 78.4867
    },
    dealbreakers: {
      kids: "want-kids",
      smoking: "prefer-non-smoker",
      pets: "love-pets",
      drinking: "occasionally"
    },
    optional: {
      education: "bachelors",
      profession: "Yoga Instructor",
      languages: ["Hindi", "English", "Telugu"]
    }
  },
  {
    id: 6,
    name: "Vikram",
    age: 28,
    photos: [
      "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400"
    ],
    bio: "Adventure seeker and travel blogger. Always planning the next trip!",
    interests: ["Travel", "Adventure", "Photography", "Blogging", "Trekking"],
    personality: {
      social: "social",
      planning: "spontaneous",
      romantic: "practical",
      morning: "morning-person"
    },
    location: {
      city: "Goa",
      lat: 15.2993,
      lng: 74.1240
    },
    dealbreakers: {
      kids: "not-sure",
      smoking: "social-smoker",
      pets: "have-pets",
      drinking: "socially"
    },
    optional: {
      education: "bachelors",
      profession: "Travel Blogger",
      languages: ["Hindi", "English", "Konkani"]
    }
  },
  {
    id: 7,
    name: "Meera",
    age: 23,
    photos: [
      "https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400",
      "https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=400",
      "https://images.unsplash.com/photo-1488426862026-3ee34a7d66df?w=400"
    ],
    bio: "Fashion designer and coffee enthusiast. Love creating beautiful things and exploring art galleries.",
    interests: ["Fashion", "Art", "Coffee", "Design", "Shopping"],
    personality: {
      social: "social",
      planning: "planner",
      romantic: "romantic",
      morning: "morning-person"
    },
    location: {
      city: "Mumbai",
      lat: 19.0760,
      lng: 72.8777
    },
    dealbreakers: {
      kids: "want-kids",
      smoking: "non-smoker",
      pets: "love-pets",
      drinking: "occasionally"
    },
    optional: {
      education: "bachelors",
      profession: "Fashion Designer",
      languages: ["Hindi", "English", "Marathi"]
    }
  },
  {
    id: 8,
    name: "Karan",
    age: 30,
    photos: [
      "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400",
      "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400",
      "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400"
    ],
    bio: "Entrepreneur and fitness coach. Building businesses and helping people achieve their goals.",
    interests: ["Business", "Fitness", "Motivation", "Networking", "Reading"],
    personality: {
      social: "social",
      planning: "planner",
      romantic: "practical",
      morning: "morning-person"
    },
    location: {
      city: "Bangalore",
      lat: 12.9716,
      lng: 77.5946
    },
    dealbreakers: {
      kids: "want-kids",
      smoking: "non-smoker",
      pets: "not-interested",
      drinking: "socially"
    },
    optional: {
      education: "masters",
      profession: "Entrepreneur",
      languages: ["Hindi", "English", "Kannada"]
    }
  },
  {
    id: 9,
    name: "Isha",
    age: 26,
    photos: [
      "https://images.unsplash.com/photo-1488426862026-3ee34a7d66df?w=400",
      "https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400"
    ],
    bio: "Doctor by profession, foodie by heart. Love trying new restaurants and cooking experiments.",
    interests: ["Food", "Cooking", "Health", "Travel", "Movies"],
    personality: {
      social: "social",
      planning: "spontaneous",
      romantic: "romantic",
      morning: "night-owl"
    },
    location: {
      city: "Delhi",
      lat: 28.6139,
      lng: 77.2090
    },
    dealbreakers: {
      kids: "want-kids",
      smoking: "prefer-non-smoker",
      pets: "love-pets",
      drinking: "occasionally"
    },
    optional: {
      education: "professional",
      profession: "Doctor",
      languages: ["Hindi", "English"]
    }
  },
  {
    id: 10,
    name: "Rohan",
    age: 27,
    photos: [
      "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400",
      "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400"
    ],
    bio: "Musician and music producer. Love creating melodies and performing live. Always up for a jam session!",
    interests: ["Music", "Guitar", "Singing", "Concerts", "Creative"],
    personality: {
      social: "social",
      planning: "spontaneous",
      romantic: "romantic",
      morning: "night-owl"
    },
    location: {
      city: "Mumbai",
      lat: 19.0760,
      lng: 72.8777
    },
    dealbreakers: {
      kids: "not-sure",
      smoking: "social-smoker",
      pets: "have-pets",
      drinking: "socially"
    },
    optional: {
      education: "bachelors",
      profession: "Musician",
      languages: ["Hindi", "English", "Marathi"]
    }
  },
  {
    id: 11,
    name: "Divya",
    age: 25,
    photos: [
      "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400",
      "https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400",
      "https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400"
    ],
    bio: "Content creator and influencer. Love sharing my life, fashion tips, and connecting with amazing people.",
    interests: ["Social Media", "Fashion", "Photography", "Blogging", "Travel"],
    personality: {
      social: "social",
      planning: "planner",
      romantic: "romantic",
      morning: "morning-person"
    },
    location: {
      city: "Bangalore",
      lat: 12.9716,
      lng: 77.5946
    },
    dealbreakers: {
      kids: "want-kids",
      smoking: "non-smoker",
      pets: "love-pets",
      drinking: "occasionally"
    },
    optional: {
      education: "bachelors",
      profession: "Content Creator",
      languages: ["Hindi", "English", "Kannada"]
    }
  },
  {
    id: 12,
    name: "Aman",
    age: 29,
    photos: [
      "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400",
      "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400"
    ],
    bio: "Chef and food blogger. Passionate about cooking, experimenting with flavors, and sharing recipes.",
    interests: ["Cooking", "Food", "Blogging", "Travel", "Photography"],
    personality: {
      social: "social",
      planning: "spontaneous",
      romantic: "practical",
      morning: "morning-person"
    },
    location: {
      city: "Delhi",
      lat: 28.6139,
      lng: 77.2090
    },
    dealbreakers: {
      kids: "want-kids",
      smoking: "non-smoker",
      pets: "have-pets",
      drinking: "socially"
    },
    optional: {
      education: "diploma",
      profession: "Chef",
      languages: ["Hindi", "English"]
    }
  },
  {
    id: 13,
    name: "Kavya",
    age: 24,
    photos: [
      "https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400",
      "https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=400",
      "https://images.unsplash.com/photo-1517841905240-472988babdf9?w=400"
    ],
    bio: "Dance instructor and choreographer. Love expressing emotions through dance and teaching others.",
    interests: ["Dance", "Music", "Fitness", "Teaching", "Performing Arts"],
    personality: {
      social: "social",
      planning: "planner",
      romantic: "romantic",
      morning: "morning-person"
    },
    location: {
      city: "Mumbai",
      lat: 19.0760,
      lng: 72.8777
    },
    dealbreakers: {
      kids: "want-kids",
      smoking: "non-smoker",
      pets: "love-pets",
      drinking: "occasionally"
    },
    optional: {
      education: "bachelors",
      profession: "Dance Instructor",
      languages: ["Hindi", "English", "Marathi"]
    }
  },
  {
    id: 14,
    name: "Aditya",
    age: 28,
    photos: [
      "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400",
      "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400",
      "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400"
    ],
    bio: "Photographer and nature enthusiast. Capturing beautiful moments and exploring wildlife.",
    interests: ["Photography", "Nature", "Wildlife", "Travel", "Adventure"],
    personality: {
      social: "introvert",
      planning: "spontaneous",
      romantic: "practical",
      morning: "morning-person"
    },
    location: {
      city: "Bangalore",
      lat: 12.9716,
      lng: 77.5946
    },
    dealbreakers: {
      kids: "not-sure",
      smoking: "non-smoker",
      pets: "love-pets",
      drinking: "never"
    },
    optional: {
      education: "bachelors",
      profession: "Photographer",
      languages: ["Hindi", "English", "Kannada"]
    }
  },
  {
    id: 15,
    name: "Neha",
    age: 26,
    photos: [
      "https://images.unsplash.com/photo-1488426862026-3ee34a7d66df?w=400",
      "https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400",
      "https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400"
    ],
    bio: "Psychologist and mental health advocate. Passionate about helping people and spreading awareness.",
    interests: ["Psychology", "Mental Health", "Reading", "Meditation", "Helping Others"],
    personality: {
      social: "social",
      planning: "planner",
      romantic: "romantic",
      morning: "morning-person"
    },
    location: {
      city: "Pune",
      lat: 18.5204,
      lng: 73.8567
    },
    dealbreakers: {
      kids: "want-kids",
      smoking: "prefer-non-smoker",
      pets: "have-pets",
      drinking: "occasionally"
    },
    optional: {
      education: "masters",
      profession: "Psychologist",
      languages: ["Hindi", "English", "Marathi"]
    }
  },
  {
    id: 16,
    name: "Siddharth",
    age: 31,
    photos: [
      "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400",
      "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400"
    ],
    bio: "Investment banker and finance expert. Love analyzing markets and helping people with financial planning.",
    interests: ["Finance", "Investing", "Reading", "Networking", "Business"],
    personality: {
      social: "social",
      planning: "planner",
      romantic: "practical",
      morning: "morning-person"
    },
    location: {
      city: "Mumbai",
      lat: 19.0760,
      lng: 72.8777
    },
    dealbreakers: {
      kids: "want-kids",
      smoking: "non-smoker",
      pets: "not-interested",
      drinking: "socially"
    },
    optional: {
      education: "masters",
      profession: "Investment Banker",
      languages: ["Hindi", "English", "Marathi"]
    }
  },
  {
    id: 17,
    name: "Pooja",
    age: 25,
    photos: [
      "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400",
      "https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400",
      "https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400"
    ],
    bio: "Fitness trainer and nutritionist. Helping people achieve their health goals and live better lives.",
    interests: ["Fitness", "Nutrition", "Health", "Wellness", "Motivation"],
    personality: {
      social: "social",
      planning: "planner",
      romantic: "practical",
      morning: "morning-person"
    },
    location: {
      city: "Hyderabad",
      lat: 17.3850,
      lng: 78.4867
    },
    dealbreakers: {
      kids: "want-kids",
      smoking: "prefer-non-smoker",
      pets: "love-pets",
      drinking: "never"
    },
    optional: {
      education: "bachelors",
      profession: "Fitness Trainer",
      languages: ["Hindi", "English", "Telugu"]
    }
  },
  {
    id: 18,
    name: "Rohit",
    age: 27,
    photos: [
      "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400",
      "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400"
    ],
    bio: "Film director and storyteller. Love creating visual narratives and bringing stories to life.",
    interests: ["Filmmaking", "Cinema", "Writing", "Creative", "Storytelling"],
    personality: {
      social: "social",
      planning: "spontaneous",
      romantic: "romantic",
      morning: "night-owl"
    },
    location: {
      city: "Mumbai",
      lat: 19.0760,
      lng: 72.8777
    },
    dealbreakers: {
      kids: "not-sure",
      smoking: "social-smoker",
      pets: "have-pets",
      drinking: "socially"
    },
    optional: {
      education: "masters",
      profession: "Film Director",
      languages: ["Hindi", "English", "Marathi"]
    }
  }
];

// Helper function to calculate distance between two coordinates (Haversine formula)
export const calculateDistance = (lat1, lng1, lat2, lng2) => {
  const R = 6371; // Earth's radius in km
  const dLat = (lat2 - lat1) * Math.PI / 180;
  const dLng = (lng2 - lng1) * Math.PI / 180;
  const a = 
    Math.sin(dLat/2) * Math.sin(dLat/2) +
    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
    Math.sin(dLng/2) * Math.sin(dLng/2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
  return Math.round(R * c);
};

// Helper function to calculate matching score
export const calculateMatchScore = (userProfile, targetProfile) => {
  let score = 0;
  let reasons = [];

  // Interest overlap (40% weight)
  const userInterests = userProfile.interests || [];
  const targetInterests = targetProfile.interests || [];
  const commonInterests = userInterests.filter(interest => 
    targetInterests.includes(interest)
  );
  const interestScore = commonInterests.length / Math.max(userInterests.length, targetInterests.length, 1);
  score += interestScore * 40;
  if (commonInterests.length > 0) {
    reasons.push({
      type: 'common-interests',
      text: `Common interest: ${commonInterests[0]}`,
      interests: commonInterests
    });
  }

  // Personality compatibility (30% weight)
  const personalityMatch = calculatePersonalityMatch(userProfile.personality, targetProfile.personality);
  score += personalityMatch * 30;
  if (personalityMatch > 0.6) {
    reasons.push({
      type: 'personality',
      text: 'Similar personality'
    });
  }

  // Distance score (20% weight) - closer is better
  if (userProfile.location && targetProfile.location) {
    const distance = calculateDistance(
      userProfile.location.lat,
      userProfile.location.lng,
      targetProfile.location.lat,
      targetProfile.location.lng
    );
    const maxDistance = 100; // Assume max preference is 100km
    const distanceScore = Math.max(0, 1 - (distance / maxDistance));
    score += distanceScore * 20;
  }

  // Dealbreakers match (10% weight)
  const dealbreakerScore = calculateDealbreakerMatch(userProfile.dealbreakers, targetProfile.dealbreakers);
  score += dealbreakerScore * 10;

  return {
    score: Math.min(100, Math.round(score)),
    reasons: reasons
  };
};

const calculatePersonalityMatch = (userPersonality, targetPersonality) => {
  if (!userPersonality || !targetPersonality) return 0.5;
  
  let matches = 0;
  let total = 0;
  
  Object.keys(userPersonality).forEach(key => {
    if (userPersonality[key] && targetPersonality[key]) {
      total++;
      if (userPersonality[key] === targetPersonality[key]) {
        matches++;
      }
    }
  });
  
  return total > 0 ? matches / total : 0.5;
};

const calculateDealbreakerMatch = (userDealbreakers, targetDealbreakers) => {
  if (!userDealbreakers || !targetDealbreakers) return 0.5;
  
  // Check if important dealbreakers match
  const importantKeys = ['smoking', 'drinking', 'kids'];
  let matches = 0;
  
  importantKeys.forEach(key => {
    if (userDealbreakers[key] && targetDealbreakers[key]) {
      // Some compatibility logic (simplified)
      if (userDealbreakers[key] === targetDealbreakers[key]) {
        matches += 1;
      } else if (
        (userDealbreakers[key] === 'non-smoker' && targetDealbreakers[key] === 'prefer-non-smoker') ||
        (userDealbreakers[key] === 'prefer-non-smoker' && targetDealbreakers[key] === 'non-smoker')
      ) {
        matches += 0.5;
      }
    }
  });
  
  return matches / importantKeys.length;
};

